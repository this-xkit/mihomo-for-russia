# Mihomo RU Config

üéØ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Mihomo, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–¥ –†—É–Ω–µ—Ç –∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–∞—Ä—É–±–µ–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.**

![FLClash 2](https://github.com/user-attachments/assets/97e14b01-9c53-467c-b24d-a18f3190266d)

–≠—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ, –≥–∏–±–∫–æ–≥–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–æ—Å—Å–∏–π—Å–∫–∏–º —Å–∞–π—Ç–∞–º, –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º, AI-—Å–µ—Ä–≤–∏—Å–∞–º, Discord, YouTube –∏ —Ç.–¥., —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π. –û—Å–æ–±–∞—è –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å <a href="https://github.com/Davoyan">@Davoyan</a> –∑–∞ –±–∞–∑—É –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–∞.
## üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üì¶ **–ì—Ä—É–ø–ø—ã –ø—Ä–æ–∫—Å–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º**:
  - üè† RU —Å–∞–π—Ç—ã ‚Äî –≤–µ—Å—å —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –∏ –±–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é (DIRECT)
  - ü•∑üèª –ì–ª–æ–±–∞–ª—å–Ω—ã–π Proxy ‚Äî –¥–ª—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
  - ü§ñ AI ‚Äî –ø—Ä–æ–∫—Å–∏ –¥–ª—è OpenAI, Gemini –∏ –¥—Ä—É–≥–∏—Ö –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π
  - ‚ñ∂Ô∏è YouTube & üí¨ Discord ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–∫—Å–∏-–≥—Ä—É–ø–ø–∞
  - üîì –ë–µ–∑ Proxy ‚Äî —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

- üåê **–ì–∏–±–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**:
  - –ì–µ–æ-–Ω–∞–±–æ—Ä—ã MetaCubeX
  - –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è Cloudflare, —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤, Discord, AI, RU/BY –∏ –ø—Ä–æ—á–∏—Ö
  - –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ inline-–ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è RU-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –±–ª–æ–∫–∏—Ä—É–µ–º—ã—Ö –¥–æ–º–µ–Ω–æ–≤

- üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**:
  - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π adblock —á–µ—Ä–µ–∑ `oisd_big`
  - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ UDP DNS
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Fake-IP, sniffer, TUN –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ DNS

- ‚ö° **–ê–≤—Ç–æ–≤—ã–±–æ—Ä –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ–∫—Å–∏** (`url-test`)

## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –Ω–∏–∂–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ –≤–∞—à—É –ø–∞–Ω–µ–ª—å. –ö–æ–Ω—Ñ–∏–≥ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è –ø–æ–¥ Remnawave.

<details>
<summary>üìÑ –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª</summary>
  
```yaml
mixed-port: 7890
allow-lan: true
tcp-concurrent: true
enable-process: true
find-process-mode: strict
mode: rule
log-level: warning
ipv6: false
keep-alive-interval: 30
unified-delay: false
profile:
  store-selected: true
  store-fake-ip: true
sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  sniff:
    HTTP:
      ports:
        - 80
        - 8080-8880
      override-destination: true
    TLS:
      ports:
        - 443
        - 8443
tun:
  enable: true
  stack: mixed
  auto-route: true
  auto-detect-interface: true
  dns-hijack:
    - any:53
  strict-route: true
  mtu: 1500
dns:
  enable: true
  prefer-h3: false
  use-hosts: true
  use-system-hosts: true
  listen: 127.0.0.1:6868
  ipv6: false
  enhanced-mode: redir-host
  default-nameserver:
    - tls://1.1.1.1
    - tls://8.8.8.8
  proxy-server-nameserver:
    - tls://1.1.1.1
    - tls://8.8.8.8
  direct-nameserver:
    - tls://77.88.8.8
    - tls://unfiltered.dns.adguard-dns.com

proxies:

proxy-groups:
  - name: üõ∞Ô∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–π
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png
    type: select
    proxies:
      - üé≤ –°–ª—É—á–∞–π–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
      - üîì –ë–µ–∑ Proxy
  - name: üí¨ Discord
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Discord.png
    type: select
    proxies:
      - üé≤ –°–ª—É—á–∞–π–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
      - üîì –ë–µ–∑ Proxy
  - name: ‚ñ∂Ô∏è YouTube
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
    type: select
    proxies:
      - üîì –ë–µ–∑ Proxy
  - name: ü§ñ AI
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AI.png
    type: select
    proxies:
      - üé≤ –°–ª—É—á–∞–π–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
      - üîì –ë–µ–∑ Proxy
  - name: üîì –ë–µ–∑ Proxy
    remnawave:
      include-proxies: false
    type: select
    hidden: true
    proxies:
      - DIRECT
  - name: üé≤ –°–ª—É—á–∞–π–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
    type: fallback
    remnawave:
      include-proxies: true
    url: "https://www.gstatic.com/generate_204"
    interval: 300
    hidden: true
    lazy: true

rule-providers:
  ru-inline-banned:
    type: inline
    payload:
      - DOMAIN-SUFFIX,habr.com
      - DOMAIN-SUFFIX,kemono.su
      - DOMAIN-SUFFIX,jut.su
      - DOMAIN-SUFFIX,kara.su
      - DOMAIN-SUFFIX,theins.ru
      - DOMAIN-SUFFIX,tvrain.ru
      - DOMAIN-SUFFIX,echo.msk.ru
      - DOMAIN-SUFFIX,the-village.ru
      - DOMAIN-SUFFIX,snob.ru
      - DOMAIN-SUFFIX,novayagazeta.ru
      - DOMAIN-SUFFIX,moscowtimes.ru
      - DOMAIN-KEYWORD,animego
      - DOMAIN-KEYWORD,yummyanime
      - DOMAIN-KEYWORD,yummy-anime
      - DOMAIN-KEYWORD,animeportal
      - DOMAIN-KEYWORD,anime-portal
      - DOMAIN-KEYWORD,animedub
      - DOMAIN-KEYWORD,anidub
      - DOMAIN-KEYWORD,animelib
      - DOMAIN-KEYWORD,ikianime
      - DOMAIN-KEYWORD,anilibria
    behavior: classical
  ru-inline:
    type: inline
    payload:
      - DOMAIN-SUFFIX,2ip.ru
      - DOMAIN-SUFFIX,yastatic.net
      - DOMAIN-SUFFIX,yandex.net
      - DOMAIN-SUFFIX,yandex.kz
      - DOMAIN-SUFFIX,yandex.com
      - DOMAIN-SUFFIX,mycdn.me
      - DOMAIN-SUFFIX,vk.com
      - DOMAIN-SUFFIX,.ru
      - DOMAIN-SUFFIX,.su
      - DOMAIN-SUFFIX,.ru.com
      - DOMAIN-SUFFIX,.ru.net
      - DOMAIN-SUFFIX,kudago.com
      - DOMAIN-SUFFIX,kinescope.io
      - DOMAIN-SUFFIX,redheadsound.studio
      - DOMAIN-SUFFIX,plplayer.online
      - DOMAIN-SUFFIX,lomont.site
      - DOMAIN-SUFFIX,remanga.org
      - DOMAIN-SUFFIX,shopstory.live
      - DOMAIN-KEYWORD,miradres
      - DOMAIN-KEYWORD,premier
      - DOMAIN-KEYWORD,shutterstock
      - DOMAIN-KEYWORD,2gis
      - DOMAIN-KEYWORD,diginetica
      - DOMAIN-KEYWORD,kinescopecdn
      - DOMAIN-KEYWORD,researchgate
      - DOMAIN-KEYWORD,springer
      - DOMAIN-KEYWORD,nextcloud
      - DOMAIN-KEYWORD,kaspersky
      - DOMAIN-KEYWORD,stepik
      - DOMAIN-KEYWORD,likee
      - DOMAIN-KEYWORD,snapchat
      - DOMAIN-KEYWORD,yappy
      - DOMAIN-KEYWORD,pikabu
      - DOMAIN-KEYWORD,okko
      - DOMAIN-KEYWORD,wink
      - DOMAIN-KEYWORD,kion
      - DOMAIN-KEYWORD,roblox
      - DOMAIN-KEYWORD,ozon
      - DOMAIN-KEYWORD,wildberries
      - DOMAIN-KEYWORD,aliexpress
    behavior: classical
  ru-apps:
    type: http
    behavior: classical
    format: yaml
    url: https://github.com/legiz-ru/mihomo-rule-sets/blob/main/other/ru-app-list.yaml
    path: ./rule-sets/ru-apps.yaml
    interval: 86400
  geosite-ru:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/category-ru.mrs
    path: ./provider/rule-set/geosite-ru.mrs
    interval: 86400
  geoip-ru:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/ru.mrs
    path: ./provider/rule-set/geoip-ru.mrs
    interval: 86400
  ru-outside:
    type: http
    behavior: classical
    format: text
    url: https://raw.githubusercontent.com/itdoginfo/allow-domains/refs/heads/main/Russia/outside-clashx.lst
    path: ./rule-sets/ru-outside.lst
    interval: 86400
  geosite-private:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/private.mrs
    path: ./provider/rule-set/geosite-private.mrs
    interval: 86400
  geoip-private:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/private.mrs
    path: ./provider/rule-set/geoip-private.mrs
    interval: 86400
  discord_voiceips:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/other/discord-voice-ip-list.mrs
    path: ./rule-sets/discord_voiceips.mrs
    interval: 86400
  discord_domains:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/discord.mrs
    path: ./provider/rule-set/discord_domains.mrs
    interval: 86400
  discord_vc:
    type: inline
    payload:
      - AND,((IP-CIDR,138.128.136.0/21),(NETWORK,udp),(DST-PORT,50000-51000))
      - AND,((IP-CIDR,162.158.0.0/15),(NETWORK,udp),(DST-PORT,50000-51000))
      - AND,((IP-CIDR,172.64.0.0/13),(NETWORK,udp),(DST-PORT,50000-51000))
      - AND,((IP-CIDR,34.0.0.0/15),(NETWORK,udp),(DST-PORT,50000-51000))
      - AND,((IP-CIDR,34.2.0.0/15),(NETWORK,udp),(DST-PORT,50000-51000))
      - AND,((IP-CIDR,35.192.0.0/12),(NETWORK,udp),(DST-PORT,50000-51000))
      - AND,((IP-CIDR,35.208.0.0/12),(NETWORK,udp),(DST-PORT,50000-51000))
      - AND,((IP-CIDR,5.200.14.128/25),(NETWORK,udp),(DST-PORT,50000-51000))
      - AND,((IP-CIDR,66.22.192.0/18),(NETWORK,udp),(DST-PORT,50000-51000))
    behavior: classical
  refilter_domains:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/re-filter/domain-rule.mrs
    path: ./provider/rule-set/domain-rule.mrs
    interval: 86400
  refilter_ipsum:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/re-filter/ip-rule.mrs
    path: ./provider/rule-set/ip-rule.mrs
    interval: 86400
  youtube:
    type: http
    behavior: domain
    format: mrs
    interval: 86400
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/youtube.mrs
    path: ./provider/rule-set/youtube.mrs
  torrent-trackers:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/other/torrent-trackers.mrs
    path: ./provider/rule-set/torrent-trackers.mrs
    interval: 86400
  torrent-clients:
    type: http
    behavior: classical
    format: yaml
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/other/torrent-clients.yaml
    path: ./provider/rule-set/torrent-clients.yaml
    interval: 86400
  ru-bundle:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/ru-bundle/rule.mrs
    path: ./provider/rule-set/ru-bundle/rule.mrs
    interval: 86400
  openai:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/openai.mrs
    path: ./provider/rule-set/openai.mrs
    interval: 86400
  gemini:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/google-gemini.mrs
    path: ./provider/rule-set/gemini.mrs
    interval: 86400
  ai-bundle:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/category-ai-!cn.mrs
    path: ./provider/rule-set/geo/geosite/category-ai-!cn.mrs
    interval: 86400
  twitch:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/twitch.mrs
    path: ./provider/rule-set/geo/geosite/twitch.mrs
    interval: 86400
  quic:
    type: inline
    behavior: classical
    payload:
      - AND,((NETWORK,udp),(DST-PORT,443))

rules:
    # –õ–æ–∫–∞–ª—å–Ω—É—é —Å–µ—Ç—å –≤ –¥–∏—Ä–µ–∫—Ç
  - RULE-SET,geosite-private,DIRECT
  - RULE-SET,geoip-private,DIRECT,no-resolve

  # –†–æ—É—Ç–∏–Ω–≥ Twitch, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∏ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —Ä–µ–∫–ª–∞–º—ã
  - OR,((DOMAIN,ads.twitch.tv),(DOMAIN,playlist.ttvnw.net)),DIRECT
  - RULE-SET,twitch,üé≤ –°–ª—É—á–∞–π–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
  # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ—Ä—Ä–µ–Ω—Ç—ã –≤ DIRECT
  - OR,((RULE-SET,torrent-clients),(RULE-SET,torrent-trackers),(PROCESS-NAME-REGEX,(?i).*torrent.*)),DIRECT
  # –û–ø—Ä–µ–¥–µ–ª—è–ª–∫–∏ IP –ø—É—Å–∫–∞–µ–º –≤ –ø—Ä–æ–∫—Å–∏, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–µ–ª
  - OR,((DOMAIN,ipwho.is),(DOMAIN,api.ip.sb),(DOMAIN,ipapi.co),(DOMAIN,ipinfo.io),(DOMAIN-SUFFIX,2ip.io),(DOMAIN-SUFFIX,2ipcore.com)),üõ∞Ô∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–π

  # –î–µ–ª–∞–µ–º REJECT QUIC (–¥–ª—è VLESS REALITY)
  - RULE-SET,quic,REJECT
  
  # üí¨ Discord
  - AND,((RULE-SET,discord_voiceips),(NETWORK,udp),(DST-PORT,50000-50100)),üí¨ Discord
  - RULE-SET,discord_vc,üí¨ Discord
  - RULE-SET,discord_domains,üí¨ Discord
  - PROCESS-NAME-REGEX,(?i).*discord.*,üí¨ Discord
  - PROCESS-NAME,Discord.exe,üí¨ Discord

# ü§ñ AI
  - OR,((RULE-SET,ai-bundle),(RULE-SET,gemini),(RULE-SET,openai)),ü§ñ AI

# ‚ñ∂Ô∏è YouTube
  - RULE-SET,youtube,‚ñ∂Ô∏è YouTube
  - PROCESS-NAME-REGEX,(?i).*youtube.*,‚ñ∂Ô∏è YouTube

# –†–£-—Å–∞–π—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ DIRECT
  - RULE-SET,ru-inline,DIRECT
  - RULE-SET,geosite-ru,DIRECT
  - RULE-SET,geoip-ru,DIRECT
  - RULE-SET,ru-apps,DIRECT
  - RULE-SET,ru-outside,DIRECT

# üõ∞Ô∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–π
  - RULE-SET,ru-bundle,üõ∞Ô∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–π
  - RULE-SET,refilter_ipsum,üõ∞Ô∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–π
  - RULE-SET,ru-inline-banned,üõ∞Ô∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–π

  - MATCH,üõ∞Ô∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–π
```

</details>

---

> ü§ç –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é –∫ —Å–≤–æ–±–æ–¥–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ –ª–æ–≥–∏–∫–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏. 
